{"$defs": {"AdminHttpConfig": {"additionalProperties": false, "properties": {"listen": {"anyOf": [{"type": "string"}, {"maxItems": 2, "minItems": 2, "prefixItems": [{"type": "string"}, {"type": "integer"}], "type": "array"}], "default": ["127.0.0.1", 9876], "title": "Interfaces to listen to"}, "use_ssl": {"default": false, "title": "Use ssl", "type": "boolean"}, "ssl": {"$ref": "#/$defs/SSLConfig", "default": {"cafile": null, "certfile": null, "keyfile": null}, "title": "SSL configuration"}, "cross_origin": {"anyOf": [{"enum": ["all", "same-origin"], "type": "string"}, {"format": "uri", "minLength": 1, "type": "string"}], "default": "all", "description": "Allows to specify origin for CORS. If set 'all' will set\nAccess-Control-Allow-Origin to '*'; 'same-origin' return\nthe same value as the 'Origin' request header.\nA url may may be specified, restricting allowed origin to\nthis url.", "title": "CORS origin"}, "proxy_conf": {"default": false, "description": "Indicates that the server is behind a reverse proxy.\nThis enable handling of forwarded proxy headers", "title": "Enable proxy_configuration", "type": "boolean"}}, "title": "AdminHttpConfig", "type": "object"}, "ApiEndpoint": {"additionalProperties": false, "properties": {"endpoint": {"pattern": "^[^\\/]+", "title": "Api endpoint", "type": "string"}, "delegate_to": {"anyOf": [{"type": "string"}, {"type": "null"}], "default": null, "description": "Api delegation allow for using a baseurl different\nfrom the expected rootpath of qgis server api.\nFor exemple, wfs3 request may be mapped to a completely different\nroot path. ", "title": "Api name to delegate to"}, "name": {"default": "", "title": "Descriptive name", "type": "string"}, "description": {"default": "", "title": "Api description", "type": "string"}, "enable_html_delegate": {"default": false, "description": "Enable fetching html resources in delegated endpoints.\nEnable this if the delegated api handle correctly html\ntemplate resource resolution in Qgis server when using\ndelegated api endpoint.", "title": "Enable html in delegated endpoint", "type": "boolean"}}, "required": ["endpoint"], "title": "ApiEndpoint", "type": "object"}, "BackendConfig": {"additionalProperties": false, "properties": {"title": {"default": "", "title": "A descriptive title", "type": "string"}, "description": {"default": "", "title": "A description of the service", "type": "string"}, "address": {"anyOf": [{"type": "string"}, {"maxItems": 2, "minItems": 2, "prefixItems": [{"type": "string"}, {"type": "integer"}], "type": "array"}], "default": ["localhost", 23456], "description": " Validate address\n\n        Address may be:\n        * A string `unix:path`\n        * A 2-tuple `(name, port)` where `name` is either an ip addresse\n          or a hostname\n    ", "title": "Remote address of the service"}, "use_ssl": {"default": false, "title": "Use Ssl", "type": "boolean"}, "ssl": {"$ref": "#/$defs/SSLConfig", "default": {"cafile": null, "certfile": null, "keyfile": null}}, "route": {"title": "Route to service", "type": "str"}, "timeout": {"default": 20, "description": "Set the timeout for Qgis response in seconds.\nIf a Qgis worker takes more than the corresponding value\na timeout error (504) is returned to the client.", "title": "Request timeout", "type": "integer"}, "forward_headers": {"default": ["x-qgis-*", "x-lizmap-*"], "description": "Set the headers that will be forwarded to the Qgis server backend.\nThis may be useful if you have plugins that may deal with request headers.", "items": {"type": "string"}, "title": "Forwarded headers", "type": "array"}, "api": {"default": [], "items": {"$ref": "#/$defs/ApiEndpoint"}, "title": "Api endpoints", "type": "array"}, "allow_direct_resolution": {"default": false, "description": "Allow remote worker to use direct project path resolution.\nWARNING: allowing this may be a security vulnerabilty.\nSee worker configuration for details.", "title": "Allow direct path resolution", "type": "boolean"}, "getfeature_limit": {"anyOf": [{"exclusiveMinimum": 0, "type": "integer"}, {"type": "null"}], "default": null, "description": "Force setting a limit for WFS/GetFeature requests.\nBy default Qgis does not set limits and that may cause\nissues with large collections.", "title": "WFS/GetFeature limit"}}, "required": ["route"], "title": "BackendConfig", "type": "object"}, "ConfigUrl": {"additionalProperties": false, "description": "Url for external configuration.\nThe configuration is fetched from the remote url\nat startup and override all local settings.", "properties": {"ssl": {"$ref": "#/$defs/SSLConfig", "default": {"cafile": null, "certfile": null, "keyfile": null}}, "url": {"anyOf": [{"format": "uri", "minLength": 1, "type": "string"}, {"type": "null"}], "default": null, "description": "Url to external configuration.\nThe server will issue a GET method against this url at startup.\nThe method should returns a valid configuration fragment.\n", "title": "External configuration Url"}, "user_agent": {"default": "qjazz-server middleware 0.1.0.dev0", "description": "The user agent for configuration requests", "title": "User agent", "type": "string"}}, "title": "ConfigUrl", "type": "object"}, "HttpConfig": {"additionalProperties": false, "properties": {"listen": {"anyOf": [{"type": "string"}, {"maxItems": 2, "minItems": 2, "prefixItems": [{"type": "string"}, {"type": "integer"}], "type": "array"}], "default": ["127.0.0.1", 9080], "title": "Interfaces to listen to"}, "use_ssl": {"default": false, "title": "Use ssl", "type": "boolean"}, "ssl": {"$ref": "#/$defs/SSLConfig", "default": {"cafile": null, "certfile": null, "keyfile": null}, "title": "SSL configuration"}, "cross_origin": {"anyOf": [{"enum": ["all", "same-origin"], "type": "string"}, {"format": "uri", "minLength": 1, "type": "string"}], "default": "all", "description": "Allows to specify origin for CORS. If set 'all' will set\nAccess-Control-Allow-Origin to '*'; 'same-origin' return\nthe same value as the 'Origin' request header.\nA url may may be specified, restricting allowed origin to\nthis url.", "title": "CORS origin"}, "proxy_conf": {"default": false, "description": "Indicates that the server is behind a reverse proxy.\nThis enable handling of forwarded proxy headers", "title": "Enable proxy_configuration", "type": "boolean"}}, "title": "HttpConfig", "type": "object"}, "LoggingConfig": {"additionalProperties": false, "properties": {"level": {"default": "INFO", "enum": ["NOTSET", "TRACE", "DEBUG", "INFO", "REQ", "RREQ", "WARNING", "ERROR", "CRITICAL"], "title": "Level", "type": "str"}}, "title": "LoggingConfig", "type": "object"}, "MetricsConfig": {"additionalProperties": false, "properties": {"name": {"default": null, "description": "The module implementing request metrics", "title": "Metric module", "type": "string"}, "options": {"default": {}, "title": "Options", "type": "object"}}, "title": "MetricsConfig", "type": "object"}, "RouterConfig": {"additionalProperties": false, "properties": {"router_class": {"default": "qjazz_http.router.DefaultRouter", "description": "The router class allow for defining routing rules\nfrom the request url.", "title": "The router class", "type": "string"}, "config": {"default": {}, "title": "Router configuration", "type": "object"}}, "title": "RouterConfig", "type": "object"}, "SSLConfig": {"additionalProperties": false, "properties": {"cafile": {"anyOf": [{"format": "file-path", "type": "string"}, {"type": "null"}], "default": null, "title": "CA file"}, "certfile": {"anyOf": [{"format": "file-path", "type": "string"}, {"type": "null"}], "default": null, "description": "Path to the SSL key file", "title": "SSL/TLS  key"}, "keyfile": {"anyOf": [{"format": "file-path", "type": "string"}, {"type": "null"}], "default": null, "description": "Path to the SSL certificat file", "title": "SSL/TLS Certificat"}}, "title": "SSLConfig", "type": "object"}}, "properties": {"logging": {"$ref": "#/$defs/LoggingConfig", "default": {"level": "INFO"}}, "http": {"$ref": "#/$defs/HttpConfig", "default": {"listen": ["127.0.0.1", 9080], "use_ssl": false, "ssl": {"cafile": null, "certfile": null, "keyfile": null}, "cross_origin": "all", "proxy_conf": false}}, "http_config_url": {"$ref": "#/$defs/ConfigUrl", "default": {"ssl": {"cafile": null, "certfile": null, "keyfile": null}, "url": null, "user_agent": "qjazz-server middleware 0.1.0.dev0"}}, "admin_http": {"$ref": "#/$defs/AdminHttpConfig", "default": {"listen": ["127.0.0.1", 9876], "use_ssl": false, "ssl": {"cafile": null, "certfile": null, "keyfile": null}, "cross_origin": "all", "proxy_conf": false}}, "router": {"$ref": "#/$defs/RouterConfig", "default": {"router_class": "qjazz_http.router.DefaultRouter", "config": {}}}, "backends": {"additionalProperties": {"$ref": "#/$defs/BackendConfig"}, "default": {}, "title": "Backends", "type": "object"}, "metrics": {"anyOf": [{"$ref": "#/$defs/MetricsConfig"}, {"type": "null"}], "default": null, "title": "Metrics configuration"}, "includes": {"anyOf": [{"type": "string"}, {"type": "null"}], "default": null, "description": "Path or globbing to services configuration files.\nNote that this section is ignored if remote configuration\nis used.", "title": "Path to services configuration files"}}, "title": "_BaseConfig", "type": "object"}
