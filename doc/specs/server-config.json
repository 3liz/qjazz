{"$defs": {"ApiEndpoint": {"additionalProperties": false, "properties": {"endpoint": {"pattern": "^[^\\/]+", "title": "Api endpoint", "type": "string"}, "delegate_to": {"description": "Api delegation allow for using a baseurl different\nfrom the expected rootpath of qgis server api.\nFor exemple, wfs3 request may be mapped to a completely different\nroot path.\n", "title": "Api name to delegate to", "type": "string"}, "name": {"default": "", "title": "Descriptive name", "type": "string"}, "description": {"default": "", "title": "Api description", "type": "string"}, "enable_html_delegate": {"default": false, "description": "Enable fetching html resources in delegated endpoints.\nEnable this if the delegated api handle correctly html\ntemplate resource resolution in Qgis server when using\ndelegated api endpoint.\"\n", "title": "Enable html in delegated endpoint", "type": "boolean"}}, "required": ["endpoint"], "title": "ApiEndpoint", "type": "object"}, "ChannelConfig": {"additionalProperties": false, "properties": {"host": {"default": "localhost", "title": "Hostname", "type": "string"}, "port": {"default": 23456, "title": "Port", "type": "integer"}, "enable_tls": {"default": false, "title": "Enable TLS", "type": "boolean"}, "cafile": {"format": "file-path", "title": "CA file", "type": "string"}, "client_key_file": {"description": "Path to the TLS key file", "format": "file-path", "title": "TLS  key file", "type": "string"}, "client_cert_file": {"description": "Path to the TLS certificat file", "format": "file-path", "title": "TLS Certificat", "type": "string"}, "title": {"default": "", "title": "A descriptive title", "type": "string"}, "description": {"default": "", "title": "A description of the service", "type": "string"}, "route": {"title": "Route to service", "type": "str"}, "timeout": {"default": 20, "description": "Set the timeout for Qgis response in seconds.\nIf a Qgis worker takes more than the corresponding value\na timeout error (504) is returned to the client.\n", "title": "Request timeout", "type": "integer"}, "forward_headers": {"default": ["x-qgis-*", "x-lizmap-*"], "description": "Set the headers that will be forwarded to the Qgis server backend.\nThis may be useful if you have plugins that may deal with request headers.\n", "items": {"type": "string"}, "title": "Forwarded headers", "type": "array"}, "api": {"default": [], "items": {"$ref": "#/$defs/ApiEndpoint"}, "title": "Api endpoints", "type": "array"}, "allow_direct_resolution": {"default": false, "description": "Allow remote worker to use direct project path resolution.\nWARNING: allowing this may be a security vulnerabilty.\nSee worker configuration for details.\n", "title": "Allow direct path resolution", "type": "boolean"}, "disable_root_catalog": {"default": false, "description": "Disable root catalog api: requesting the catalog root will return\na 403 HTTP response with an informative message that the\ncatalog has been disabled for the channel.\n", "title": "Disable catalog root api", "type": "boolean"}}, "required": ["route"], "title": "ChannelConfig", "type": "object"}, "LoggingConfig": {"additionalProperties": false, "properties": {"level": {"default": "INFO", "enum": ["NOTSET", "TRACE", "DEBUG", "INFO", "REQ", "RREQ", "WARNING", "ERROR", "CRITICAL", "NOTICE"], "title": "Level", "type": "str"}}, "title": "LoggingConfig", "type": "object"}, "Server": {"additionalProperties": false, "properties": {"address": {"default": "127.0.0.1:9080", "title": "Interfaces to listen to", "type": "string"}, "enable_tls": {"default": false, "title": "Use TLS", "type": "boolean"}, "tls_client_cafile": {"description": "Certificat for client authentification", "format": "file-path", "title": "Client CA file", "type": "string"}, "tls_cert_file": {"description": "Path to the TLS key file", "format": "file-path", "title": "TLS  key", "type": "string"}, "tls_key_file": {"description": "Path to the TLS certificat file", "format": "file-path", "title": "SSL/TLS Certificat", "type": "string"}, "cross_origin": {"anyOf": [{"enum": ["all", "same-origin"], "type": "string"}, {"format": "uri", "minLength": 1, "type": "string"}], "default": "all", "description": "Allows to specify origin for CORS. If set 'all' will set\nAccess-Control-Allow-Origin to '*'; 'same-origin' return\nthe same value as the 'Origin' request header.\nA url may may be specified, restricting allowed origin to\nthis url.\n", "title": "CORS origin"}, "num_workers": {"description": "Numbers of worker threads", "title": "Workers", "type": "integer"}, "backends_request_timeout": {"default": 30, "title": "Request timeout", "type": "integer"}, "shutdown_timeout": {"default": 30, "description": "Shutdown grace period", "title": "Shutdown timeout", "type": "integer"}}, "title": "Server", "type": "object"}}, "properties": {"logging": {"$ref": "#/$defs/LoggingConfig", "default": {"level": "INFO"}}, "server": {"$ref": "#/$defs/Server", "default": {"address": "127.0.0.1:9080", "enable_tls": false, "tls_client_cafile": null, "tls_cert_file": null, "tls_key_file": null, "cross_origin": "all", "num_workers": null, "backends_request_timeout": 30, "shutdown_timeout": 30}}, "backends": {"additionalProperties": {"$ref": "#/$defs/ChannelConfig"}, "default": {}, "title": "Backends", "type": "object"}, "includes": {"description": "Path or globbing to services configuration files.\nNote that this section is ignored if remote configuration\nis used.\n", "title": "Path to services configuration files", "type": "string"}}, "title": "_BaseConfig", "type": "object"}
